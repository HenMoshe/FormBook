(this.webpackJsonptestfront=this.webpackJsonptestfront||[]).push([[0],{363:function(e,t,n){},364:function(e,t,n){},522:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),s=n.n(c),i=(n(363),n(364),n(18)),o=n.n(i),l=n(30),j=n(7),d=(n(300),n(305),n(1));var b=n(32),u=n.n(b),h=n(44),p=n(16),x=Object(a.createContext)({}),O=Object(a.createContext)({}),m=n(628);var f=n(4),g=n(584),v=n(585),y=n(333),w=n(211);function N(e){return Object(d.jsx)(w.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var C=n(586);Object(g.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},bpaper:{display:"flex",padding:e.spacing(3),justifyContent:"space-around"},cpaper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"auto"}}}));var S=n(597);var k=function(){return Object(d.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(p.b,{color:"inherit",href:"linkedin.com/in/hen-moshe-6a0373215",children:"Hen Moshe"})," ",(new Date).getFullYear()]})};var D=n(26),F=n(55),T=n(624),_=n(589),Q=n(590),B=n(594),q=n(596),A=n(591),H=n(595),z=n(306),E=n.n(z),I=n(619),P=n(592),U=n(309),L=n.n(U),V=n(307),G=n.n(V),M=n(308),Y=n.n(M),W=n(525),K=n(587),R=n(588),J=n(245),X=n.n(J),Z=n(248),$=n.n(Z),ee=n(247),te=n.n(ee),ne=n(246),ae=n.n(ne),re=Object(d.jsxs)("div",{children:[Object(d.jsx)(p.b,{to:"/home",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)(X.a,{})}),Object(d.jsx)(R.a,{primary:"Home Page"})]})}),Object(d.jsx)(p.b,{to:"/createdForms",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)(ae.a,{})}),Object(d.jsx)(R.a,{primary:"Created Forms"})]})}),Object(d.jsx)(p.b,{to:"/doneforms",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)(te.a,{})}),Object(d.jsx)(R.a,{primary:"Students Area"})]})}),Object(d.jsx)(p.b,{to:"/userdetailes",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)($.a,{})}),Object(d.jsx)(R.a,{primary:"User Detailes"})]})})]}),ce=Object(d.jsxs)("div",{children:[Object(d.jsx)(p.b,{to:"/",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)(X.a,{})}),Object(d.jsx)(R.a,{primary:"Home Page"})]})}),Object(d.jsx)(p.b,{to:"/login",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)(ae.a,{})}),Object(d.jsx)(R.a,{primary:"Login"})]})}),Object(d.jsx)(p.b,{to:"/signup",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)($.a,{})}),Object(d.jsx)(R.a,{primary:"Sign UP"})]})}),Object(d.jsx)(p.b,{to:"/aboutus",children:Object(d.jsxs)(W.a,{button:!0,children:[Object(d.jsx)(K.a,{children:Object(d.jsx)(te.a,{})}),Object(d.jsx)(R.a,{primary:"About Us"})]})})]}),se="20vw",ie=Object(g.a)((function(e){return{toolbarIcon:Object(F.a)({display:"flex",justifyContent:"flex-end",padding:"0px 0px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:se,minWidth:"calc(100%-170px)",width:"calc(100% - ".concat(se,")"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:0},menuButtonHidden:{display:"inline"},title:{textAlign:"left",flexGrow:1},paper:{padding:"8px",display:"flex",overflow:"contain",flexDirection:"column",height:"auto",width:240},drawerPaper:{position:"relative",height:"auto",width:se,minWidth:"170px",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({display:"hidden",overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"50vh",overflow:"contain"},search:{width:"13vw",boxShadow:"0 3px 5px 2px rgba(255, 200, 5, .2)",borderRadius:7}}}));function oe(e,t,n){var a;return function(){for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];clearTimeout(a),a=setTimeout((function(){e.apply(this,c,n)}),t)}}function le(){var e=ie(),t=Object(a.useContext)(O),n=t.todoforms,c=t.handleFetch,s=t.setFormD,i=Object(a.useContext)(x).userD,b=Object(a.useState)(""),h=Object(j.a)(b,2),m=h[0],g=h[1],v=r.a.useState(!1),N=Object(j.a)(v,2),S=N[0],k=N[1],D=r.a.useState(null),F=Object(j.a)(D,2),z=F[0],U=F[1],V=r.a.useState(null),M=Object(j.a)(V,2),W=M[0],K=M[1],R=Object(a.useState)([]),J=Object(j.a)(R,2),X=J[0],Z=J[1],$=Boolean(z),ee=$?"simple-popover":void 0,te=Boolean(X.length>0),ne=te?"simple-popover":void 0;function ae(e){s(e)}function se(){return(se=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t.target.value),K(t.currentTarget),e.prev=2,e.next=5,u.a.post("/fdisplay",{filter:m}).then((function(e){return Z(e.data)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_.a,{position:"absolute",className:Object(f.a)(e.appBar,S&&e.appBarShift),children:Object(d.jsxs)(Q.a,{className:e.toolbar,children:[Object(d.jsx)(A.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i._id&&c(i._id,i.Email),k(!0)},className:Object(f.a)(e.menuButton,S&&e.menuButtonHidden),children:Object(d.jsx)(E.a,{})}),Object(d.jsx)(w.a,{component:"h1",variant:"h6",color:"inherit",className:e.title,children:"FormBook"}),Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)(G.a,{className:"spanner"}),Object(d.jsx)(I.a,{id:"standard-basic",disabled:!i._id,"aria-describedby":ne,onKeyUp:oe((function(e){return function(e){return se.apply(this,arguments)}(e)}),2e3),className:e.search}),Object(d.jsx)(P.a,{id:ne,open:te,anchorEl:W,onClose:function(){Z([]),K(null)},anchorReference:"anchorPosition",anchorPosition:{top:65,left:590},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:X.map((function(t){return Object(d.jsxs)(y.a,{className:e.paper,children:[Object(d.jsxs)("span",{children:["form name:",t.formName,"  , form type:",t.formType]}),Object(d.jsx)(p.b,{to:"/takeform",children:Object(d.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:ae(t),children:"to Test"})})]})}))})]}),Object(d.jsx)(A.a,{color:"inherit",children:Object(d.jsx)(H.a,{badgeContent:n?n.length:0,color:"secondary",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(Y.a,{onClick:function(e){c(i._id,i.Email),U(e.currentTarget)},"aria-describedby":ee}),Object(d.jsx)(P.a,{id:ee,open:$,anchorEl:z,onClose:function(){U(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(d.jsx)(w.a,{className:e.typography,children:n.length>=1?n.map((function(t){return Object(d.jsxs)(y.a,{className:e.paper,children:[Object(d.jsxs)("span",{children:["form name:",t.formName,"  , type:",t.formType]}),Object(d.jsx)(p.b,{to:"/takeform",children:Object(d.jsx)(C.a,{variant:"contained",color:"primary",onClick:ae(t),children:"to Test"})})]})})):Object(d.jsx)(y.a,{className:e.paper,children:i._id?Object(d.jsx)("span",{children:"'Great! You finished all your quizs.'"}):Object(d.jsx)(p.b,{to:"/login",children:Object(d.jsx)("button",{children:"Click To Log IN!"})})})})})]})})})]})}),Object(d.jsxs)(T.a,{variant:"temporary",classes:{paper:Object(f.a)(e.drawerPaper,!S&&e.drawerPaperClose)},open:S,children:[Object(d.jsx)("div",{className:e.toolbarIcon,children:Object(d.jsx)(A.a,{onClick:function(){k(!1)},children:Object(d.jsx)(L.a,{})})}),Object(d.jsx)(q.a,{}),Object(d.jsx)(B.a,{children:i._id?re:ce}),Object(d.jsx)(q.a,{})]}),Object(d.jsx)("div",{className:e.appBarSpacer})]})}Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"center"},content:{flexGrow:1,maxWidth:"980px",height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var je=function(){var e=Object(a.useContext)(x),t=e.setUser,n=e.userD,r=e.setUserD,c=Object(h.f)();function s(){return(s=Object(l.a)(o.a.mark((function e(a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,s={_id:n._id},e.next=5,u.a.post("/logout",s);case 5:c.push("/"),r(""),t(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(d.jsx)(C.a,{variant:"contained",size:"large",onClick:function(e){return s.apply(this,arguments)},children:"LogOut"})},de=n(598),be=n(602),ue=n(601),he=n(599),pe=n(600);function xe(e){for(var t=0,n=0;n<e.finished.length;n++)t+=e.finished[n].grade;return isNaN(t/e.finished.length)?0:(t/e.finished.length).toFixed(2)}var Oe=Object(g.a)((function(e){return{typography:{padding:e.spacing(2)},seeMore:{marginTop:e.spacing(3)}}}));function me(e){var t=e.forms,n=Object(a.useContext)(O).setFormD,c=Oe();return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(N,{children:"To Do!"}),Object(d.jsxs)(de.a,{padding:"none",size:"small",children:[Object(d.jsx)(he.a,{children:Object(d.jsxs)(pe.a,{children:[Object(d.jsx)(ue.a,{children:"Dead Line"}),Object(d.jsx)(ue.a,{children:"Name"}),Object(d.jsx)(ue.a,{children:"Avg Grade"}),Object(d.jsx)(ue.a,{align:"right",children:"To Do"})]})}),Object(d.jsx)(be.a,{children:t.map((function(e){return Object(d.jsxs)(pe.a,{children:[Object(d.jsx)(ue.a,{children:e.deadline?e.deadline.slice(0,10):"no deadline"}),Object(d.jsx)(ue.a,{children:e.formName}),Object(d.jsx)(ue.a,{children:xe(e)}),Object(d.jsx)(ue.a,{align:"right",children:Object(d.jsx)(p.b,{to:"/takeform",children:Object(d.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(e){n(e)}(e)},children:"TO DO"})})})]},e._id)}))})]}),Object(d.jsx)("div",{className:c.seeMore,children:Object(d.jsx)(p.b,{to:"/TestCreation",children:"Create a New Form!"})})]})}var fe=Object(g.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},bpaper:{display:"flex",padding:e.spacing(3),justifyContent:"space-around"},cpaper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"auto"}}}));function ge(){var e=fe(),t=Object(a.useContext)(O),n=t.totalNum,r=t.totalCreated,c=t.todoforms,s=Object(f.a)(e.paper,e.fixedHeight);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(v.a,{container:!0,spacing:3,children:[Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsxs)(y.a,{className:e.cpaper,children:[Object(d.jsx)("b",{children:"User Stats:"}),Object(d.jsx)("br",{}),"This User created ",r," forms so far ",Object(d.jsx)("br",{}),"and participated in ",n," forms so far,keep browsing our site for more detailed stats",Object(d.jsx)("br",{}),"You can create and publish your own survey or test using our app.",Object(d.jsx)("br",{})]})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:e.cpaper,children:Object(d.jsx)(me,{forms:c})})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:s,children:Object(d.jsxs)(w.a,{children:[Object(d.jsx)("b",{children:"About This App:"}),Object(d.jsx)("br",{}),"FormBook App created with ",Object(d.jsx)("br",{}),"react.js , express.js ,material ui ,jsonwebtoken.js,bcrypt.js,axios,mongoose",Object(d.jsx)("br",{}),"You are more then welcome to find bugs and contact me",Object(d.jsx)("br",{}),Object(d.jsx)(p.b,{color:"inherit",href:"linkedin.com/in/hen-moshe-6a0373215",children:"Hen Moshe"})," :)"]})})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsxs)(y.a,{className:e.bpaper,children:[Object(d.jsx)(je,{}),Object(d.jsx)(p.b,{to:"/TestCreation",children:Object(d.jsx)(C.a,{variant:"contained",size:"large",children:"Create Form"})})]})})]})})}var ve=n(603),ye=n(604),we=n(311),Ne=n.n(we),Ce=n(629),Se=Object(g.a)((function(e){return{root:{display:"flex"},absolute:{position:"relative",bottom:e.spacing(3),left:e.spacing(15)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",margin:"7px"},fixedHeight:{height:"auto",width:"auto"},inp:{marginTop:9}}}));var ke=function(){var e=Se(),t=Object(f.a)(e.paper,e.fixedHeight),n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),b=Object(j.a)(i,2),h=b[0],m=b[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)(""),k=Object(j.a)(S,2),D=k[0],F=k[1],T=Object(a.useContext)(O),_=T.setTestId,Q=T.setFormType,B=T.formtype,q=Object(a.useContext)(x).userD;function A(){return(A=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Q(w),console.log(B),t={formName:c,formDescription:h,creator:q._id,creatorname:q.userName,formType:w,open:D},console.log(t),e.next=7,u.a.post("/fcreate",t);case 7:n=e.sent,_(n.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(d.jsx)(y.a,{className:t,children:Object(d.jsxs)("form",{id:"form1",className:e.root,noValidate:!0,autoComplete:"off",children:[Object(d.jsx)(N,{children:"Create a new Form!"}),Object(d.jsxs)("p",{children:["hello, ",q.userName,Object(d.jsx)("br",{}),"create your form here.",Object(d.jsx)("br",{}),"choose a form name,description,type and if it's visible to everyone or only for custom users.",Object(d.jsx)("br",{}),"Create a question then create answers for it, at the end of the creation you can edit/delete your questions and answers.",Object(d.jsx)("br",{}),"Also , at the end of the creation you could add users who should do the test and they will be informed and add your test deadline.",Object(d.jsx)("br",{}),"GOODLUCK :)"]}),Object(d.jsx)(I.a,{onChange:function(e){return s(e.target.value)},className:e.inp,type:"string",label:"Form Name",variant:"outlined",required:!0}),Object(d.jsx)(I.a,{onChange:function(e){return m(e.target.value)},className:e.inp,label:"Form Description",variant:"outlined",required:!0}),Object(d.jsxs)(I.a,{onChange:function(e){return C(e.target.value)},className:e.inp,id:"select1",label:"type",select:!0,required:!0,children:[Object(d.jsx)(ve.a,{value:"survey",children:"Survey"}),Object(d.jsx)(ve.a,{value:"test",children:"Test"})]}),Object(d.jsxs)(I.a,{onChange:function(e){return F(e.target.value)},className:e.inp,value:D,id:"select2",label:"Visible",select:!0,required:!0,children:[Object(d.jsx)(ve.a,{value:"true",children:"All Users"}),Object(d.jsx)(ve.a,{value:"false",children:"Private"})]}),Object(d.jsx)(p.b,{to:"/QuestionCreation",children:Object(d.jsx)(Ce.a,{title:"Add","aria-label":"add",children:Object(d.jsx)(ye.a,{color:"default",className:e.absolute,onClick:function(){return A.apply(this,arguments)},children:Object(d.jsx)(Ne.a,{})})})})]})})},De=n(68),Fe=n(605),Te=n(606),_e=n(610),Qe=n(181),Be=n(327),qe=n(328),Ae=n(83),He=n(331);function ze(e){for(var t,n,a=e.data,c=Object(De.a)(),s=[],i=0;i<a.length;i+=2)isNaN(a[i+1])||s.push((t=a[i],n=a[i+1],{time:t,grade:n}));return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(N,{children:"Tests Statistics"}),Object(d.jsx)(Fe.a,{children:Object(d.jsxs)(Te.a,{data:s,margin:{top:16,right:12,bottom:0,left:16},children:[Object(d.jsx)(_e.a,{}),Object(d.jsx)(Qe.a,{}),Object(d.jsx)(Be.a,{dataKey:"time",reversed:!1,stroke:c.palette.text.secondary}),Object(d.jsx)(qe.a,{type:"number",domain:[0,100],ticks:[5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],stroke:c.palette.text.secondary,children:Object(d.jsx)(Ae.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:c.palette.text.primary},children:"Grades"})}),Object(d.jsx)(He.a,{type:"monotone",dataKey:"grade",stroke:c.palette.primary.main,dot:!0})]})})]})}var Ee=n(634),Ie=n(636),Pe=n(633),Ue=n(637),Le=n(635),Ve=n(632),Ge=n(641),Me=n(627),Ye=n(621),We=n(642);function Ke(e){for(var t=0,n=0;n<e.finished.length;n++)t+=e.finished[n].grade;return isNaN(t/e.finished.length)?0:(t/e.finished.length).toFixed(2)}var Re=function(e){var t=e.row,n=e.setTestId,r=e.setFormDHN,c=Object(a.useState)(!1),s=Object(j.a)(c,2),i=s[0],o=s[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Ve.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(d.jsx)(Pe.a,{children:Object(d.jsx)(Ye.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!i)},children:i?Object(d.jsx)("button",{className:"ctable1"}):Object(d.jsx)("button",{className:"ctable"})})}),Object(d.jsx)(Pe.a,{component:"th",scope:"row",children:t.formName}),Object(d.jsx)(Pe.a,{children:Ke(t)}),Object(d.jsx)(Pe.a,{children:"string"===typeof t.deadline?t.deadline.slice(0,10):"No DeadLine"}),Object(d.jsx)(Pe.a,{align:"right",children:Object(d.jsx)(p.b,{to:"/editform",children:Object(d.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return n(t._id)},children:"Edit"})})})]}),Object(d.jsx)(Ve.a,{children:Object(d.jsx)(Pe.a,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:Object(d.jsx)(Me.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(d.jsxs)(Ge.a,{sx:{margin:0},children:[Object(d.jsx)(We.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Detailes"}),Object(d.jsxs)(Ee.a,{size:"small",padding:"none","aria-label":"purchases",children:[Object(d.jsx)(Le.a,{children:Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(Pe.a,{children:"Done date"}),Object(d.jsx)(Pe.a,{children:"Tested User"}),Object(d.jsx)(Pe.a,{children:"Grade"}),Object(d.jsx)(Pe.a,{align:"right",children:"More"})]})}),Object(d.jsx)(Ie.a,{children:t.finished.map((function(e,n){return Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(Pe.a,{component:"th",scope:"row",children:"string"===typeof e.donedate?e.donedate.slice(0,10):"No date"}),Object(d.jsx)(Pe.a,{align:"center",children:e.username}),Object(d.jsx)(Pe.a,{align:"center",children:e.grade}),Object(d.jsx)(Pe.a,{align:"right",children:Object(d.jsx)(p.b,{to:"/formdisplay",children:Object(d.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(e,t){var n=[e.formName,e.formDescription,e.questions,Object.entries(e.finished[t])];r(n)}(t,n)},children:"Display"})})})]},e.tested+t.formName)}))})]})]})})})})]})};function Je(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].grade;return isNaN(t/e.length)?0:(t/e.length).toFixed(2)}var Xe=function(e){var t=e.row,n=e.handleFormDHN,r=Object(a.useState)(!1),c=Object(j.a)(r,2),s=c[0],i=c[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Ve.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(d.jsx)(Pe.a,{children:Object(d.jsx)(Ye.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!s)},children:s?Object(d.jsx)("button",{className:"ctable1"}):Object(d.jsx)("button",{className:"ctable"})})}),Object(d.jsx)(Pe.a,{component:"th",scope:"row",children:t[0].creatorname||t[0].username}),Object(d.jsx)(Pe.a,{align:"center",children:t.length}),Object(d.jsx)(Pe.a,{align:"center",children:Je(t)}),Object(d.jsx)(Pe.a,{align:"right",children:t[t.length-1].grade})]}),Object(d.jsx)(Ve.a,{children:Object(d.jsx)(Pe.a,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:Object(d.jsx)(Me.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(d.jsxs)(Ge.a,{sx:{margin:1},children:[Object(d.jsx)(We.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Detailes"}),Object(d.jsxs)(Ee.a,{size:"small",padding:"none","aria-label":"purchases",children:[Object(d.jsx)(Le.a,{children:Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(Pe.a,{align:"left",children:"Form Name"}),Object(d.jsx)(Pe.a,{children:"Grade"}),Object(d.jsx)(Pe.a,{align:"center",children:"Class Avg"}),Object(d.jsx)(Pe.a,{align:"right",children:"More.."})]})}),Object(d.jsx)(Ie.a,{children:t.map((function(e){return Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(Pe.a,{component:"th",scope:"row",children:e.formName}),Object(d.jsx)(Pe.a,{align:"center",children:e.grade}),Object(d.jsx)(Pe.a,{align:"center",children:Je(e.finished)}),Object(d.jsx)(Pe.a,{align:"right",children:Object(d.jsx)(p.b,{to:"/formdisplay",children:Object(d.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return n(e)},children:"Display"})})})]},e.formName)}))})]})]})})})})]})};function Ze(e){var t,n=e.forms,r=Object(a.useContext)(O),c=r.setTestId,s=r.setFormDHN,i=Object(a.useContext)(x).userD;function o(e){for(var t,n=0;n<e.finished.length;n++)e.finished[n].tested==i._id&&(t=Object.entries(e.finished[n]));s([e.formName,e.formDescription,e.questions,t])}for(var l=0;l<n.length;l++){if(n[l].creator==i._id){t="created";break}t="finished"}return Object(d.jsxs)(Ue.a,{children:[Object(d.jsxs)(Ee.a,{size:"small",padding:"none","aria-label":"collapsible table",children:[Object(d.jsx)(Le.a,{children:Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(Pe.a,{}),Object(d.jsx)(Pe.a,{children:"created"==t?"Test Name":"Teacher"}),Object(d.jsx)(Pe.a,{align:"center",children:"created"==t?"Class Avg":"Quantity"}),Object(d.jsx)(Pe.a,{align:"center",children:"created"==t?"Dead Line":"My Average"}),Object(d.jsx)(Pe.a,{align:"right",children:"created"==t?"CLICK":"Last Grade"})]})}),Object(d.jsx)(Ie.a,{children:"finished"==t?n.map((function(e){return Object(d.jsx)(Xe,{handleFormDHN:o,row:e})})):n.map((function(e){return Object(d.jsx)(Re,{setFormDHN:s,setTestId:c,row:e})}))})]}),Object(d.jsx)("div",{children:Object(d.jsx)(p.b,{to:"/TestCreation",children:"Create a New Form!"})})]})}var $e=n(638);function et(e){var t=e.forms;return console.log(t),Object(d.jsxs)(Ue.a,{component:$e.a,children:[Object(d.jsx)(N,{children:"Survey Statistics"}),Object(d.jsxs)(Ee.a,{size:"small","aria-label":"a dense table",children:[Object(d.jsx)(Le.a,{children:Object(d.jsxs)(Ve.a,{children:[Object(d.jsx)(Pe.a,{children:"Survey Name"}),Object(d.jsx)(Pe.a,{align:"right",children:"Participets"}),Object(d.jsx)(Pe.a,{align:"right",children:"Show stats"})]})}),Object(d.jsx)(Ie.a,{children:t.map((function(e){return Object(d.jsxs)(Ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(d.jsx)(Pe.a,{component:"th",scope:"row",children:e.formName}),Object(d.jsx)(Pe.a,{align:"center",children:e.finished.length}),Object(d.jsx)(Pe.a,{align:"right",children:Object(d.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return console.log(e.finished)},children:"Display"})})]},e.formName)}))})]})]})}var tt=Object(g.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240,width:335}}}));var nt=function(){for(var e=tt(),t=Object(a.useContext)(O).createdforms,n=Object(f.a)(e.paper,e.fixedHeight),r=[],c=t.filter((function(e){return"survey"===e.formType})),s=t.filter((function(e){return"test"===e.formType})),i=0;i<s.length;i++){r.push(s[i].creationDate.slice(8,10)+"-"+s[i].creationDate.slice(5,7));for(var o=0,l=0;l<s[i].finished.length;l++)o+=s[i].finished[l].grade;r.push(o/s[i].finished.length)}return Object(d.jsxs)(v.a,{container:!0,spacing:2,children:[Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:n,children:Object(d.jsx)(ze,{data:r})})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:e.paper,children:Object(d.jsx)(Ze,{forms:s})})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:e.paper,children:Object(d.jsx)(et,{forms:c})})})]})};function at(e,t){return e.reduce((function(e,n){var a=n[t];return e[a]||(e[a]=[]),e[a].push(n),e}),{})}var rt=Object(g.a)({depositContext:{flex:1}});function ct(){var e=rt();return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(N,{children:"Classes Statistics"}),Object(d.jsx)(w.a,{component:"p",variant:"h4",children:"Number of classes:"}),Object(d.jsx)(w.a,{color:"textSecondary",className:e.depositContext,children:"Last Test date:"})]})}var st=Object(g.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240,width:335}}}));var it=function(){for(var e=st(),t=Object(f.a)(e.paper,e.fixedHeight),n=Object(a.useContext)(x).userD,r=Object(a.useContext)(O).doneforms,c=r.map((function(e){return e})),s=[],i=[],o=Object.values(at(c,"creator")),l=0;l<o.length;l++)o[l].map((function(e){e.finished.map((function(t){t.tested==n._id&&s.push(Object.fromEntries(Object.entries(e).concat(Object.entries(t))))}))}));for(var j=Object.values(at(s,"creator")),b=0;b<r.length;b++){i.push(r[b].creationDate.slice(8,10)+"-"+r[b].creationDate.slice(5,7));for(var u=0;u<r[b].finished.length;u++)if(r[b].finished[u].tested==n._id){i.push(r[b].finished[u].grade);break}}return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(v.a,{container:!0,spacing:3,children:[Object(d.jsx)(v.a,{item:!0,xs:12,md:6,lg:4,children:Object(d.jsx)(y.a,{className:t,children:Object(d.jsx)(ze,{data:i})})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:e.paper,children:Object(d.jsx)(Ze,{forms:j})})}),Object(d.jsx)(v.a,{item:!0,xs:12,md:12,lg:12,children:Object(d.jsx)(y.a,{className:e.paper,children:Object(d.jsx)(ct,{})})})]})})},ot=n(620),lt=n(59),jt=n(174),dt=n.n(jt),bt=Object(g.a)((function(e){return{route:{display:"flex"},absolute:{position:"relative",bottom:e.spacing(0),left:e.spacing(13)},button:{margin:e.spacing(1)},inp:{marginTop:7},paper:{padding:e.spacing(1),display:"flex",overflow:"hidden",flexDirection:"column"},fixedHeight:{height:"auto",width:"auto",minWidth:"280px",margin:"2%"}}}));var ut=function(){var e=bt(),t=Object(f.a)(e.paper,e.fixedHeight),n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(0),b=Object(j.a)(i,2),h=b[0],x=b[1],g=Object(a.useState)(!1),w=Object(j.a)(g,2),N=w[0],S=w[1],k=Object(a.useState)(!1),D=Object(j.a)(k,2),F=D[0],T=D[1],_=Object(a.useContext)(O),Q=_.questionid,B=_.testid,q=_.setAnswerPoints,A=_.answerpoints,H=_.formItems,z=_.qascore,E=_.setQascore,P=_.formtype,U={_id:B};function L(){return(L=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(z>H)){e.next=5;break}throw new Error("answer points is higher then question score.");case 5:return t=[U,"answers",{Q_id:Q,text:c,points:h}],e.next=8,u.a.post("/qacreate",t);case 8:q(A+Number(h)),E(z+Number(h)),S(!0),x(0);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),T(!F);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(d.jsx)(v.a,{item:!0,xs:11,sm:6,md:4,children:Object(d.jsx)(y.a,{className:t,children:Object(d.jsxs)("form",{id:B,noValidate:!0,autoComplete:"off",children:[Object(d.jsx)(I.a,{onChange:function(e){return s(e.target.value)},className:e.inp,label:"Answer",variant:"outlined",required:!0,disabled:N}),Object(d.jsxs)("label",{for:"points",children:["Score:",h]}),Object(d.jsx)("input",{onChange:function(e){return x(e.target.value)},value:h,type:"range",id:"range",name:"points",min:"0",max:"100",step:"5",disabled:!("survey"!==P&&!N)}),Object(d.jsx)(p.b,{to:"/QuestionCreation",children:Object(d.jsx)(C.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return L.apply(this,arguments)},className:e.button,startIcon:Object(d.jsx)(dt.a,{}),disabled:N,children:"Save Answer!"})}),Object(d.jsx)(m.a,{visible:F,children:"Not a vaild answers points."})]})})})},ht=Object(g.a)((function(e){var t;return{root:{display:"flex"},absolute:{position:"relative",bottom:e.spacing(1),left:e.spacing(10)},paper:{padding:e.spacing(0),display:"flex",overflow:"auto",margin:"8px",flexDirection:"column"},paperes:(t={padding:e.spacing(0),display:"flex",overflow:"auto"},Object(D.a)(t,"padding","10px"),Object(D.a)(t,"margin","8px"),Object(D.a)(t,"flexDirection","row"),Object(D.a)(t,"justifyContent","space-evenly"),t),fixedHeight:{height:"auto",width:"85vw"},inp:{marginTop:7},button:{marginBottom:12}}}));function pt(){return Math.random().toString(16).slice(-4)}var xt=function(){var e,t=ht(),n=Object(f.a)(t.paper,t.fixedHeight),r=Object(a.useState)(0),c=Object(j.a)(r,2),s=c[0],i=c[1],b=Object(a.useState)(""),h=Object(j.a)(b,2),x=h[0],m=h[1],g=Object(a.useState)(""),w=Object(j.a)(g,2),S=w[0],k=w[1],D=Object(a.useState)(""),F=Object(j.a)(D,2),T=F[0],_=F[1],Q=Object(a.useState)(!1),B=Object(j.a)(Q,2),q=B[0],A=B[1],H=Object(a.useState)([]),z=Object(j.a)(H,2),E=z[0],P=z[1],U=Object(a.useContext)(O),L=U.formtype,V=U.setFormItems,G=U.setQascore,M=U.setAnswerPoints,Y=U.answerpoints,W=U.setQuestionScore,K=U.questionscore,R=U.setQuestionId,J=U.testid,X=U.qascore,Z=U.formItems,$={_id:J};function ee(){return(ee=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=pt(),n=[$,"questions",{Q_id:e,name:x,description:S,score:s,most:T}],t.next=5,u.a.post("/qacreate",n);case 5:R(e),A(!0),V(Z+Number(s)),W(K+Number(s)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function te(){return(te=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(100==K&&100==Y||0==K&&0==Y)){e.next=8;break}V(0),G(0),W(0),M(0),e.next=9;break;case 8:throw new Error("Not a Valid Score!");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var ne=function(e){var t=e.children,n=e.to;return e.condition&&n?Object(d.jsx)(p.b,{to:n,children:t}):Object(d.jsx)(d.Fragment,{children:t})};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y.a,{className:n,children:Object(d.jsxs)("form",{id:"Cquestion",className:t.root,noValidate:!0,autoComplete:"off",children:[Object(d.jsx)(N,{children:"Create question!"}),"test"===L?Object(d.jsxs)("h3",{children:["Total Questions Score:",Object(d.jsx)("br",{}),K," from 100"]}):Object(d.jsxs)("h2",{children:["Form type:",L]}),Object(d.jsx)(I.a,{onChange:function(e){return m(e.target.value)},className:t.inp,label:"Question Name",variant:"outlined",required:!0,disabled:q}),Object(d.jsx)(I.a,{onChange:function(e){return k(e.target.value)},className:t.inp,label:"Question Description",variant:"outlined",disabled:q}),Object(d.jsxs)(I.a,{onChange:function(e){return _(e.target.value)},className:t.inp,id:"select2",label:"Bonus?",value:T,select:!0,disabled:q,children:[Object(d.jsx)(ve.a,{value:"true",children:"Yes"}),Object(d.jsx)(ve.a,{value:"false",children:"No"})]}),Object(d.jsxs)("label",{for:"points",children:["Score:",s]}),Object(d.jsx)("input",{onChange:function(e){return i(e.target.value)},value:s,type:"range",id:"range",name:"points",min:"0",max:"100",step:"5",disabled:!("survey"!==L&&!q)}),Object(d.jsx)(C.a,{variant:"contained",color:"primary",size:"small",className:t.button,startIcon:Object(d.jsx)(dt.a,{}),onClick:function(){return ee.apply(this,arguments)},disabled:q,children:"Save Question!"}),Object(d.jsx)(N,{children:"Create Answers!"}),"test"===L?Object(d.jsxs)("h3",{children:["Total Answers Score:",Object(d.jsx)("br",{}),X," from ",Z]}):Object(d.jsxs)("h3",{children:["Number of answers:",E.length]})]})}),Object(d.jsxs)(v.a,{container:!0,rowSpacing:1,columnSpacing:{xs:6,sm:2,md:3},children:[E,Object(d.jsx)(v.a,{item:!0,xs:12,children:Object(d.jsxs)(y.a,{className:t.paperes,children:[Object(d.jsx)("button",{className:"create",onClick:function(e){return function(e){e.preventDefault(),P([].concat(Object(lt.a)(E),[Object(d.jsx)(ut,{},E.length)]))}(e)},children:"create new answer"}),Object(d.jsx)("button",{className:"create",onClick:function(e){return function(e){e.preventDefault(),P([]),A(!1),G(0),V(0),document.getElementById("Cquestion").reset()}(e)},children:"create new question"})]})}),Object(d.jsx)(v.a,{item:!0,xs:12,children:Object(d.jsx)(y.a,{className:t.paperes,children:Object(d.jsx)(ne,{to:"/editform",condition:K===Y,children:Object(d.jsx)(C.a,{variant:"contained",color:"primary",size:"small",className:t.button,startIcon:Object(d.jsx)(dt.a,{}),onClick:function(){return te.apply(this,arguments)},children:"Save Test!"})})})})]})]})},Ot=n(622),mt=n(625),ft=n(616),gt=n(617),vt=n(630),yt=n(618),wt=n(631);var Nt=function(e){var t=e.canswers,n=e.setAnswers,r=e.quest,c=e.type,s=r.map((function(e){return e})),i=r[0].name,o=Object(a.useState)(!1),l=Object(j.a)(o,2),b=l[0],u=l[1],h=r[0].score,p=r[0].description,x=s.splice(1),O=[],f=x.filter((function(e){return"0"!=e.points})).length,g=Object(Ot.a)({values:{abc:[]},onValidate:function(e){if("survey"!==c){var t={};if(f!=x.length&&(e.abc.length<f&&(t.abc="you must choose atleast ".concat(f," value/s!")),e.abc.length>f&&(t.abc="you must choose only ".concat(f," value/s!"))),Object.keys(t).length)throw t}},onSubmit:function(e){for(var a={},r=0,c=0;c<t.length;c++)-1!==t[c][0].indexOf(e.abc[0].slice(0,4))&&r++;if(0===r&&(u(!b),n([].concat(Object(lt.a)(t),[[e.abc[0].slice(0,4),e.abc]]))),0!==r&&(a.abc="you allready submitted this answer!"),Object.keys(a).length)throw a}});return x.map((function(e){O.push(Object(d.jsxs)("label",{className:"checker",children:[e.text,Object(d.jsx)(mt.a,Object(F.a)(Object(F.a)({},g),{},{name:"abc",value:e.Q_id+h+e.text+e.points}))]}))})),Object(d.jsxs)(ft.a,Object(F.a)(Object(F.a)({},g),{},{children:[Object(d.jsxs)(gt.a,Object(F.a)(Object(F.a)({},g),{},{name:"abc",children:[Object(d.jsx)("span",{className:"pp",children:i}),Object(d.jsxs)("h3",{children:["Question Score:",h]}),Object(d.jsxs)("h3",{children:["Correct Answers:",f==x.length?0:f]}),Object(d.jsx)("h3",{children:p})]})),Object(d.jsxs)(vt.a,Object(F.a)(Object(F.a)({},g),{},{name:"abc",className:"checker3",children:[Object(d.jsx)(gt.a,Object(F.a)(Object(F.a)({},g),{},{as:"legend",name:"abc",children:"Answers"})),O]})),Object(d.jsx)(yt.a,Object(F.a)(Object(F.a)({},g),{},{name:"abc"})),Object(d.jsx)(wt.a,Object(F.a)(Object(F.a)({},g),{},{children:"Send Question"})),Object(d.jsx)(m.a,{visible:b,children:"Answers sent."})]}))};var Ct=function(){var e=Object(a.useContext)(O),t=e.formD,n=e.setFormDHN,r=e.handleFetch,c=Object(a.useContext)(x).userD,s=Object(a.useState)(!1),i=Object(j.a)(s,2),b=i[0],h=i[1],f=Object(a.useState)(!1),g=Object(j.a)(f,2),v=g[0],y=g[1],w=function(){return y(!0)},N=function(e,t){return e+t},C=t.questions,S=t.answers,k=at(C.concat(S),"Q_id"),D=Object.values(k),F=[],T=[],_=Object(a.useState)([]),Q=Object(j.a)(_,2),B=Q[0],q=Q[1];function A(){n([t.formName,t.formDescription,C,B])}var H=function(){return Object(d.jsx)(p.b,{to:"/formdisplay",children:Object(d.jsx)("button",{children:"Discover result!"})})};function z(){return(z=Object(l.a)(o.a.mark((function e(){var n,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B.length===D.length){e.next=6;break}throw h(!b),new Error("there are questions unanswered");case 6:for(A(),w(),n=0;n<B.length;n++)for(a=0;a<B[n][1].length;a++)isNaN(B[n][1][a].slice(-2))?T.push(Number(B[n][1][a].slice(-1))):T.push(Number(B[n][1][a].slice(-2)));return B.push(["grade",T.reduce(N)],["tested",c._id],["username",c.userName],["donedate",Date.now()]),s=Object.fromEntries(B),i=[c.Email,t._id,s,"finished"],e.next=14,u.a.post("/adddone",i);case 14:return e.next=16,r(c._id,c.Email);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}for(var E=0;E<D.length;E++)F.push(Object(d.jsx)(Nt,{canswers:B,type:t.formType,setAnswers:q,quest:D[E]}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:t.formName}),Object(d.jsx)("h2",{children:t.formDescription}),F,Object(d.jsx)("button",{onClick:function(){return z.apply(this,arguments)},children:"Send Test!"}),Object(d.jsx)(m.a,{visible:b,children:"You Didnt Answer all questions."}),v?Object(d.jsx)(H,{}):null]})},St=Object(g.a)({question:{width:"100%",padding:"10px"}});var kt=function(e){var t=e.name,n=e.description,a=e.score,r=e.type,c=St();return Object(d.jsxs)(y.a,{className:c.question,children:[Object(d.jsx)(w.a,{component:"h2",variant:"h5",gutterBottom:!0,children:t}),Object(d.jsx)(w.a,{component:"h2",variant:"h6",gutterBottom:!0,children:n}),"test"==r?Object(d.jsxs)(w.a,{component:"h2",variant:"h6",gutterBottom:!0,children:["Score: ",a]}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)(w.a,{component:"h2",variant:"h6",gutterBottom:!0,children:"Your Answer/s"})]})},Dt=Object(g.a)({answer:{margin:"20px",width:"90%",padding:"5px"}});var Ft=function(e){var t=e.color,n=e.text,a=e.points,r=e.type,c=Dt();return Object(d.jsx)(y.a,{className:c.answer,children:Object(d.jsxs)(w.a,{component:"h2",color:t,variant:"subtitle1",gutterBottom:!0,children:[n," ",Object(d.jsx)("br",{}),"test"==r?"Answer Score: ".concat(a):Object(d.jsx)(d.Fragment,{})]})})},Tt=Object(g.a)({root:{padding:"8px",width:"100%",marginBottom:"10px"},answer:{margin:"20px",width:"90%",padding:"5px"}});var _t=function(){for(var e=Tt(),t=Object(a.useContext)(O).formDHN,n=t.map((function(e){return e})),r=[],c=[],s=n[2].concat(n[3]),i="0"==t[2][0].score?"survey":"test",o=0;o<s.length;o++)s[o].Q_id?r.push(s[o]):"grade"!=s[o][0]&&"tested"!=s[o][0]&&"username"!=s[o][0]&&"donedate"!=s[o][0]?r.push({Q_id:s[o][0],answers:s[o][1]}):c.push(s[o]);var l=at(r,"Q_id"),j=Object.values(l),b=[],u=0;return j.map((function(e){b.push(Object(d.jsx)(kt,{type:i,name:e[0].name,description:e[0].description,score:e[0].score})),u=0;for(var t=0;t<e[1].answers.length;t++)isNaN(Number(e[1].answers[t].slice(-2)))?u+=Number(e[1].answers[t].slice(-1)):u+=Number(e[1].answers[t].slice(-2));for(var n=0;n<e[1].answers.length;n++)u==e[0].score?b.push(Object(d.jsx)(Ft,{type:i,color:"inherit",text:e[1].answers[n].slice(6,-2),points:isNaN(e[1].answers[n].slice(-2))?e[1].answers[n].slice(-1):e[1].answers[n].slice(-2)})):u<e[0].score&&u>0?b.push(Object(d.jsx)(Ft,{type:i,color:"primary",text:e[1].answers[n].slice(6,-2),points:isNaN(e[1].answers[n].slice(-2))?e[1].answers[n].slice(-1):e[1].answers[n].slice(-2)})):b.push(Object(d.jsx)(Ft,{type:i,color:"error",text:e[1].answers[n].slice(6,-2),points:isNaN(e[1].answers[n].slice(-2))?e[1].answers[n].slice(-1):e[1].answers[n].slice(-2)}))})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(y.a,{className:e.root,children:[Object(d.jsx)(w.a,{variant:"h4",component:"h2",gutterBottom:!0,children:t[0]}),Object(d.jsx)(w.a,{variant:"h5",component:"h2",gutterBottom:!0,children:t[1]}),Object(d.jsx)(w.a,{variant:"h5",component:"h2",children:"test"==i?"Your Form grade is:".concat(isNaN(t[3][t[3].length-4][1])?"Survey":t[3][t[3].length-4][1]):"Survey"}),"test"==i?Object(d.jsxs)(w.a,{variant:"h6",component:"h2",children:["Wrong answer/s displayed red.",Object(d.jsx)("br",{}),"partly true displayed in blue color.",Object(d.jsx)("br",{}),"true answer/s displayed in black."]}):Object(d.jsx)("div",{})]}),Object(d.jsx)(d.Fragment,{children:b}),Object(d.jsx)(p.b,{to:"/home",children:Object(d.jsx)("button",{className:"but",children:"To Home Page"})})]})};var Qt=function(e){var t=e.name,n=e.description,a=e.deadline;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h4",{children:["Great! Youve finished creating your form. take a look that everything is ok before we procced.",Object(d.jsx)("br",{}),"Dont forget to add users in the sent to section above and define a deadline below.",Object(d.jsx)("br",{})]}),Object(d.jsx)("h3",{children:"Form Name:"}),Object(d.jsx)("input",{defaultValue:t,type:"text",name:"formName"}),Object(d.jsx)("h3",{children:"Form Description:"}),Object(d.jsx)("textarea",{defaultValue:n,type:"text",name:"formDescription"}),Object(d.jsx)("h3",{children:"Form DeadLine:"}),Object(d.jsx)("input",{value:a,type:"date",name:"deadline"})]})};var Bt=function(e){var t=e.Q_id,n=e.name,a=e.description,r=e.score,c=e.type;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Question:"}),Object(d.jsx)("h4",{children:"Question Name:"}),Object(d.jsx)("textarea",{data:t,type:"text",defaultValue:n,name:"name"}),Object(d.jsx)("h4",{children:"Question Description:"}),Object(d.jsx)("textarea",{data:t,type:"text",defaultValue:a,name:"description"}),Object(d.jsxs)("label",{for:"score",children:["Question Score: ",r]}),Object(d.jsx)("input",{data:t,type:"number",min:"0",max:"100",step:"5",defaultValue:r,name:"score",disabled:"survey"===c}),Object(d.jsx)("h3",{children:"Answers:"})]})};var qt=function(e){var t=e.Q_id,n=e.text,a=e.points,r=e.type;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Answer: "}),Object(d.jsx)("textarea",{data:t,defaultValue:n,name:"text",type:"text"}),Object(d.jsxs)("h3",{children:["Answer Score: ",a]}),Object(d.jsx)("input",{data:t,defaultValue:a,min:"0",max:"100",step:"5",name:"points",type:"number",disabled:"survey"===r})]})};var At=function(){var e,t=Object(a.useContext)(O).testid,n=Object(a.useContext)(x).userD,r=Object(a.useState)(),c=Object(j.a)(r,2),s=c[0],i=c[1],b=Object(a.useState)(!1),h=Object(j.a)(b,2),f=h[0],g=h[1],v=Object(a.useState)(),y=Object(j.a)(v,2),w=y[0],N=y[1],C=Object(a.useState)([]),S=Object(j.a)(C,2),k=S[0],D=S[1],F=Object(a.useState)(!0),T=Object(j.a)(F,2),_=T[0],Q=T[1],B=[],q=[],A=[],H=[];function z(e){D([].concat(Object(lt.a)(k),[e]))}function E(){return(E=Object(l.a)(o.a.mark((function e(a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),z(s.needsToDo),H.push(["creator",n._id],["creatorname",n.username],["formType",s.formType],["needsToDo",k],["finished",s.finished],["open",s.open],["_id",s._id],[a.target[0].name,a.target[0].value],[a.target[1].name,a.target[1].value],[a.target[2].name,a.target[2].value]),r=3;case 4:if(!(r<a.target.length)){e.next=14;break}if("text"==a.target[r].name&&A.push(Object.fromEntries([["Q_id",a.target[r].attributes.data.value],[a.target[r].name,a.target[r].value],[a.target[r+1].name,a.target[r+1].value]])),"name"!=a.target[r].name){e.next=10;break}q.push(Object.fromEntries([["Q_id",a.target[r].attributes.data.value],[a.target[r].name,a.target[r].value],[a.target[r+1].name,a.target[r+1].value],[a.target[r+2].name,a.target[r+2].value]])),e.next=11;break;case 10:return e.abrupt("continue",11);case 11:r++,e.next=4;break;case 14:H.push(["answers",A],["questions",q]);try{u.a.post("/editformsave",[{_id:t},Object.fromEntries(H)]),g(!f)}catch(c){console.error(c)}case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(a.useEffect)(Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.post("/editformdisplay",{_id:t});case 3:a=n.sent,e=a.data.needsToDo?a.data.needsToDo:[],i(a.data),Q(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])}))),[]),!_)for(var I=at(s.questions.concat(s.answers),"Q_id"),P=Object.values(I),U=0;U<P.length;U++)P[U].map((function(e){e.name?B.push(Object(d.jsx)(Bt,{type:s.formType,Q_id:e.Q_id,name:e.name,score:e.score,description:e.description})):B.push(Object(d.jsx)(qt,{type:s.formType,Q_id:e.Q_id,text:e.text,points:e.points}))}));return e&&e.map((function(e){return Object(d.jsx)("h5",{children:e})})),_?Object(d.jsx)("div",{children:"loading..."}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"sent to:"}),e,Object(d.jsx)("h3",{children:"send now:"}),Object(d.jsx)("div",{children:k.map((function(e,t){return Object(d.jsx)("span",{children:Object(d.jsxs)("h5",{children:[e,"   ",Object(d.jsx)("button",{onClick:function(){return function(e){k.splice(e,1),D([k])}(t)},className:"ctable1",children:"-"})]})})}))}),Object(d.jsx)("input",{type:"text",onChange:function(e){return N(e.target.value)},value:w,name:"sender"}),Object(d.jsx)("button",{onClick:function(){return z(w)},children:"+"}),Object(d.jsxs)("form",{name:"editor",onSubmit:function(e){return function(e){return E.apply(this,arguments)}(e)},children:[Object(d.jsx)(Qt,{name:s.formName,description:s.formDescription,deadline:s.deadline?s.deadline.slice(0,10):null}),B,Object(d.jsx)("input",{data:"0",type:"submit"})]}),Object(d.jsx)(p.b,{to:"/home",children:Object(d.jsx)(m.a,{visible:f,children:Object(d.jsx)("button",{className:"but",children:"Done"})})})]})},Ht=Object(g.a)((function(e){return{paper:{padding:e.spacing(5),display:"flex",overflow:"auto",flexDirection:"column"}}}));var zt=function(){var e=Ht(),t=Object(a.useContext)(x).userD,n=Object(a.useState)(t.userName),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(t.Email),b=Object(j.a)(i,2),h=b[0],p=b[1],O=Object(a.useState)(),m=Object(j.a)(O,2),f=m[0],g=m[1];function v(){return(v=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,u.a.put("/changeuserd",[{_id:t._id},{userName:c,Email:h,password:f}]);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(d.jsxs)(y.a,{className:e.paper,children:[Object(d.jsx)("h2",{children:"Update user detailes in this page:"}),Object(d.jsx)("h4",{children:"click in the grey box to change"}),Object(d.jsx)("h3",{children:"User Detailes"}),Object(d.jsx)("label",{for:"username",children:"User Name:"}),Object(d.jsx)("input",{name:"username",type:"text",onChange:function(e){return s(e.target.value)},defaultValue:t.userName,value:c}),Object(d.jsx)("label",{for:"email",children:"E-mail:"}),Object(d.jsx)("input",{name:"email",type:"email",onChange:function(e){return p(e.target.value)},value:h,defaultValue:t.Email}),Object(d.jsx)("label",{for:"password",children:"Password:"}),Object(d.jsx)("input",{name:"password",type:"password",onChange:function(e){return g(e.target.value)},defaultValue:t.password,value:f}),Object(d.jsx)("button",{onClick:function(e){return function(e){return v.apply(this,arguments)}(e)},children:"Update"})]})},Et=Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"center"},content:{flexGrow:1,maxWidth:"980px",height:"100vh",overflow:"auto"},container:{marginTop:45,paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var It=function(){var e=Et();return Object(a.useContext)(x).userLogged,Object(h.f)(),Object(d.jsxs)("div",{className:e.root,children:[Object(d.jsx)(le,{}),Object(d.jsx)("main",{className:e.content,children:Object(d.jsxs)(S.a,{maxWidth:"lg",className:e.container,children:[Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{path:"/home",exact:!0,component:ge}),Object(d.jsx)(h.a,{path:"/doneforms",component:it}),Object(d.jsx)(h.a,{path:"/TestCreation",component:ke}),Object(d.jsx)(h.a,{path:"/createdForms",component:nt}),Object(d.jsx)(h.a,{path:"/QuestionCreation",component:xt}),Object(d.jsx)(h.a,{path:"/takeform",component:Ct}),Object(d.jsx)(h.a,{path:"/formdisplay",component:_t}),Object(d.jsx)(h.a,{path:"/editform",component:At}),Object(d.jsx)(h.a,{path:"/userdetailes",component:zt})]}),Object(d.jsx)(ot.a,{pt:4,children:Object(d.jsx)(k,{})})]})})]})},Pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,643)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};var Ut=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(j.a)(i,2),l=o[0],b=o[1],u=Object(a.useState)({}),h=Object(j.a)(u,2),p=h[0],O=h[1],m=Object(a.useState)(),f=Object(j.a)(m,2),g=f[0],v=f[1];return Object(d.jsx)(x.Provider,{value:{userD:p,setUserD:O,isSignUp:c,setSignUp:s,userLogged:l,setUser:b,setToken:v,token:g},children:t})};var Lt=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)([]),b=Object(j.a)(i,2),h=b[0],p=b[1],x=Object(a.useState)([]),m=Object(j.a)(x,2),f=m[0],g=m[1],v=Object(a.useState)(""),y=Object(j.a)(v,2),w=y[0],N=y[1],C=Object(a.useState)(""),S=Object(j.a)(C,2),k=S[0],D=S[1],F=Object(a.useState)(0),T=Object(j.a)(F,2),_=T[0],Q=T[1],B=Object(a.useState)(),q=Object(j.a)(B,2),A=q[0],H=q[1],z=Object(a.useState)(),E=Object(j.a)(z,2),I=E[0],P=E[1],U=Object(a.useState)([]),L=Object(j.a)(U,2),V=L[0],G=L[1],M=Object(a.useState)(""),Y=Object(j.a)(M,2),W=Y[0],K=Y[1],R=Object(a.useState)(0),J=Object(j.a)(R,2),X=J[0],Z=J[1],$=Object(a.useState)(0),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(0),re=Object(j.a)(ae,2),ce=re[0],se=re[1];function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/myfdisplay",{creator:t});case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function le(e){return je.apply(this,arguments)}function je(){return(je=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/myfdisplay",{needsToDo:t});case 3:n=e.sent,p(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function de(e){return be.apply(this,arguments)}function be(){return(be=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/doneuserfdisplay",{finished:t});case 3:n=e.sent,g(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ue(){return(ue=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(n);case 2:return e.next=4,ie(t);case 4:return e.next=6,de(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=h.length+f.length,pe=c.length;return Object(d.jsx)(O.Provider,{value:{setFormType:K,formtype:W,totalNum:he,totalCreated:pe,qascore:ce,setQascore:se,handleFetch:function(e,t){return ue.apply(this,arguments)},setFormItems:Q,formDHN:V,setFormDHN:G,formDHS:I,setFormDHS:P,answerpoints:te,setAnswerPoints:ne,setQuestionScore:Z,questionscore:X,setFormD:H,formD:A,formItems:_,doneforms:f,todoforms:h,createdforms:c,setTestId:N,testid:w,setQuestionId:D,questionid:k},children:t})};s.a.render(Object(d.jsx)(Ut,{children:Object(d.jsx)(Lt,{children:Object(d.jsx)(p.a,{children:Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(It,{})})})})}),document.getElementById("root")),Pt()}},[[522,1,2]]]);
//# sourceMappingURL=main.c8d3f55e.chunk.js.map